await loadScript("https://unpkg.com/hydra-nodegl");
setResolution(1600, 1600);
/* 
base=()=>visual()
	.modulateSpiral(o0, 10)
	.diff(gradient()
		.swirl(10))
	.diff(huecircle())
	.diff(osc(1, 0, 300)
		.polar());
        */
base = () => osc(1, 2, 300)
	.diff(gradient(1))
	.scale(.1)
synth = () => base()
.a()
	.diff(base())
	.invert()
pattern = () => synth()
	.modulate(osc(Math.PI)
		.diff(osc(Math.PI)
			.rotate(Math.PI / 2))
		.scale([1 / 2, 1].smooth()
			.fast(1 / 4))
		.thresh())
	.rotate(.1, .1)
	.blend(src(o0)
		.colorama(.01)
		.posterize(200, 2), .9);
solid()
	.add(src(o1)
		.modulateScrollX(chaos(4)), [1, 0].smooth()
		.fast(1 / 2))
	.add(src(o1)
		.modulateScrollY(chaos(4)), [0, 1].smooth()
		.fast(1 / 2))
	.blend(src(o0)
		.hue(.01)
		.saturate(1)
		.brightness(-.05), 3 / 4)
	.out()
solid()
	.add(src(o2)
		.modulateGlitch(chaos(4)), [1, 0, 0, 0, 0, 0, 0, 0].smooth()
		.fast(1 / 8))
	.add(src(o2)
		.modulateWarp(chaos(4)), [0, 1, 0, 0, 0, 0, 0, 0].smooth()
		.fast(1 / 8))
	.add(src(o2)
		.modulateSpiral(chaos(4)), [0, 0, 1, 0, 0, 0, 0, 0].smooth()
		.fast(1 / 8))
	.add(src(o2)
		.modulateSpiral(chaos(4)), [0, 0, 0, 1, 0, 0, 0, 0].smooth()
		.fast(1 / 8))
	.add(src(o2)
		.modulateShear(chaos(4)), [0, 0, 0, 0, 1, 0, 0, 0].smooth()
		.fast(1 / 8))
	.add(src(o2)
		.modulateRandomNoise(chaos(4)), [0, 0, 0, 0, 0, 1, 0, 0].smooth()
		.fast(1 / 8))
	.add(src(o2)
		.modulateRainbow(chaos(4)), [0, 0, 0, 0, 0, 0, 1, 0].smooth()
		.fast(1 / 8))
	.add(src(o2)
		.modulateRingModulator(chaos(4)), [0, 0, 0, 0, 0, 0, 0, 1].smooth()
		.fast(1 / 8))
	.out(o1)
solid()
	.add(pattern()
		.modulate(chaos(4)), [1, 0, 0, 0, 0].smooth()
		.fast(1 / 5))
	.add(pattern()
		.modulateScale(chaos(4)), [0, 1, 0, 0, 0].smooth()
		.fast(1 / 5))
	.add(pattern()
		.modulateRotate(chaos(4)), [0, 0, 1, 0, 0].smooth()
		.fast(1 / 5))
	.add(pattern()
		.modulateRepeatX(chaos(4)), [0, 0, 0, 1, 0].smooth()
		.fast(1 / 5))
	.add(pattern()
		.modulateRepeatY(chaos(4)), [0, 0, 0, 0, 1].smooth()
		.fast(1 / 5))
	.out(o2);
pattern()
	.out(o3);

//screencap();