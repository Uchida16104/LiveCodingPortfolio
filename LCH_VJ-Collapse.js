await loadScript("https://unpkg.com/hydra-nodegl");
setResolution(1600, 1600);
src(o0)
	.shift("cos(st.x+time/10.0)", "sin(st.y+time/10.0)")
	.modulateSpiral(o0, 5)
	.layer(visual()
		.swirl(10)
		.sub(huecircle()
			.luma()
			.rotate(1, 1))
		.mult(chaos()
			.blend(src(o0)
				.scale(1.1), .99))
		.diff(gradient(1)
			.polar())
		.mask(shape(99, 0, 1)
			.colorama([0, 3].reverse()
				.smooth(1 / 2)
				.ease('easeInOutCubic')
				.fit(1 / 3)
				.offset(1 / 5)
				.fast(1 / 7))))
	.invert()
	.scale(1, 1 / 2)
	.mult(sphere()
		.blend(src(o0)
			.shift("cos(st.x/time)", "sin(st.y/time)")
			.hue("cos(st.x/time)+sin(st.y/time)")
			.scale(5 / 4), [0, 1].smooth()
              ))
	.hue([0, 1].reverse()
		.smooth(Math.E / Math.PI)
		.ease(() => Math.atan(time / 10))
		.fit(1 / Math.PI)
		.offset(1 / Math.E)
		.fast(1 / Math.pow(Math.E, Math.PI)))
	.out();
screencap();